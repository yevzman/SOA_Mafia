**SOA-voice-chat**

Голосовой "вещатель":
Программа способная передавать в режиме онлайн распостроняет записываемый голос другим пользователям используя очередь сообщений RabbitMQ.

Стоит заметить что голосовой чат работает только в одну сторону, кто-то говорит, остальные слушают. Данное ограничение введено, потому что, чтобы обеспечить полноценное общение между несколькими людьми существует 2 способа:
1) Между каждым человеком создать стримы, количество "стримов" в rabbitMQ достигает количества (n * (n - 1)) / 2 штук, что очень много. И задержка будет огромной
2) Все будут посылать сообщения в один стрим, и читать из него, однако это антипаттерн для  rabbitmq и нужно уметь различать свои сообщения от чужих, иначе каждый будет слышать самого себя, я не нашел возможности того как отличать свои сообщения в общем потоке, так как они отправляются в особом формате который потом конвертируется в бинарный.

Ввиду этого голос вещает кто-то один, а остальные только слушают. Однако я реализовал текстовый мессенджер и встроил его в Мафию, с точностью до используемого метода(RabbitMQ) и даже с точностью до названия функций, только вместо голосовых "пакетов" отсылаются сообщения с тегом (который позволяет отфильтровывать свои сообщения)

Запустить сервер для брокера сообщений:
```
sudo docker run -it --rm --name rabbitmq -p 5552:5552 -e RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS='-rabbitmq_stream advertised_host localhost' rabbitmq:latest
```

Запустить плагин для rabbitMQ:
```
sudo docker exec rabbitmq rabbitmq-plugins enable rabbitmq_stream
```

Запустить запись (вещатель):
```
python3 recorder.py
```

Запустить воспроизводитель (тот кто слушает то что говорит вещатель):
```
python3 player.py
```

